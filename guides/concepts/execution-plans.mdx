---
title: "Execution Plans"
description: "Learn how Pan creates and executes optimized plans for intents"
---

Execution plans are detailed strategies that describe exactly how Pan will achieve an intent. When you create an intent, Pan analyzes the situation and generates an optimized plan before executing any transactions.

## What is an execution plan?

An execution plan is a structured document that outlines the sequence of operations Pan will perform to fulfill an intent. Each plan includes:

- **Ordered steps**: A list of atomic operations in the correct execution order
- **Cost estimates**: Expected gas costs and total USD expense
- **Time estimates**: Expected duration of execution
- **Dependencies**: Which steps depend on others completing first

<Card
  title="Transparent execution"
  icon="eye"
>
  Every intent includes a detailed execution plan so you know exactly what will happen
</Card>

## Plan structure

Execution plans consist of ordered steps, where each step represents a single atomic operation:

<ResponseExample>
```json Execution plan
{
  "steps": [
    {
      "type": "swap",
      "from": "USDT",
      "to": "USDC",
      "amount": "500",
      "amountOut": "499.5",
      "chain": "base-sepolia",
      "dex": "uniswap-v3",
      "slippage": "0.1%"
    },
    {
      "type": "bridge",
      "from": "base-sepolia",
      "to": "ethereum-sepolia",
      "asset": "USDC",
      "amount": "500",
      "bridge": "base-bridge",
      "estimatedTime": "2-3 minutes"
    },
    {
      "type": "consolidate",
      "asset": "USDC",
      "chain": "ethereum-sepolia",
      "sources": ["0x123...", "0x456..."],
      "targetAmount": "1000"
    },
    {
      "type": "deposit",
      "protocol": "aave",
      "asset": "USDC",
      "amount": "1000",
      "chain": "ethereum-sepolia",
      "expectedApy": "3.5%"
    }
  ],
  "estimatedGas": "0.05 ETH",
  "estimatedCostUsd": "15.00",
  "estimatedTime": "2-5 minutes",
  "strategy": "multi-asset"
}
```
</ResponseExample>

## Step types

Pan supports several types of execution steps:

<AccordionGroup>
  <Accordion title="Swap">
    Exchange one token for another on the same chain. Used when the wallet has the wrong asset for the intent.
    
    ```json
    {
      "type": "swap",
      "from": "USDT",
      "to": "USDC",
      "amount": "500",
      "chain": "ethereum-sepolia",
      "dex": "uniswap-v3"
    }
    ```
  </Accordion>
  
  <Accordion title="Bridge">
    Move assets from one blockchain to another. Used when assets are on the wrong chain.
    
    ```json
    {
      "type": "bridge",
      "from": "base-sepolia",
      "to": "ethereum-sepolia",
      "asset": "USDC",
      "amount": "500",
      "bridge": "base-bridge"
    }
    ```
  </Accordion>
  
  <Accordion title="Consolidate">
    Gather multiple sources of the same asset into a single amount. Used when assets are scattered across multiple addresses or chains.
    
    ```json
    {
      "type": "consolidate",
      "asset": "USDC",
      "chain": "ethereum-sepolia",
      "sources": ["0x123...", "0x456..."],
      "targetAmount": "1000"
    }
    ```
  </Accordion>
  
  <Accordion title="Deposit">
    Deposit assets into a DeFi protocol. This is typically the final step for lending intents.
    
    ```json
    {
      "type": "deposit",
      "protocol": "aave",
      "asset": "USDC",
      "amount": "1000",
      "chain": "ethereum-sepolia"
    }
    ```
  </Accordion>
</AccordionGroup>

## Planning strategies

Pan uses different planning strategies depending on the situation:

<Tabs>
  <Tab title="Simple">
    Used when the wallet already has the correct asset on the correct chain. The plan consists of a single deposit step.
    
    **Example**: Wallet has 1000 USDC on Ethereum Sepolia, intent is to lend 1000 USDC on Ethereum Sepolia.
  </Tab>
  
  <Tab title="Swap">
    Used when the wallet has assets but needs to convert them. Plan includes a swap step followed by a deposit.
    
    **Example**: Wallet has 1000 USDT, intent is to lend 1000 USDC.
  </Tab>
  
  <Tab title="Bridge">
    Used when assets are on the wrong chain. Plan includes bridging to the correct chain, then depositing.
    
    **Example**: Wallet has 1000 USDC on Base, intent is to lend on Ethereum.
  </Tab>
  
  <Tab title="Multi-asset">
    Used when the wallet has assets across multiple chains that need to be consolidated. This is the most complex strategy.
    
    **Example**: Wallet has 500 USDC on Base and 500 USDT on Ethereum, intent is to lend 1000 USDC on Ethereum.
  </Tab>
</Tabs>

## Optimization factors

Pan's planning system optimizes execution plans considering multiple factors:

<CardGroup cols={2}>
  <Card title="ðŸ’° Minimize gas" icon="coins">
    Reduces the number of transactions and selects efficient routes
  </Card>
  <Card title="ðŸ“‰ Reduce slippage" icon="chart-line-down">
    Chooses DEXs with best liquidity for swaps
  </Card>
  <Card title="âš¡ Fast execution" icon="bolt">
    Prefers faster bridges and protocols when multiple options exist
  </Card>
  <Card title="ðŸŽ¯ Best rates" icon="percent">
    Selects protocols with highest interest rates for lending
  </Card>
</CardGroup>

## Plan execution

Once a plan is generated, Pan executes it step by step:

1. **Sequential execution**: Steps are executed in order, respecting dependencies
2. **Transaction management**: Pan handles nonces, gas estimation, and pricing automatically
3. **Error recovery**: If a step fails, Pan may attempt alternatives or abort with detailed error info
4. **Progress tracking**: Status updates are provided after each step completes

<Warning>
  Execution plans are optimized at creation time. Market conditions, liquidity, or network congestion may change during execution, potentially affecting outcomes.
</Warning>

## Viewing execution plans

You can view the execution plan for any intent:

<CodeGroup>
```bash cURL
curl -X GET https://api.pan.dev/v1/intents/intent_xyz789 \
  -H "Authorization: Bearer YOUR_API_KEY"
```

```javascript JavaScript
const intent = await getIntent('intent_xyz789');
console.log('Execution plan:', intent.executionPlan);
console.log('Steps:', intent.executionPlan.steps);
console.log('Estimated cost:', intent.executionPlan.estimatedCostUsd);
```
</CodeGroup>

## Best practices

<Tip>
  **Review plans before execution**: For important operations, review the execution plan to understand what will happen. While Pan optimizes automatically, you may want to understand the strategy.
</Tip>

<Tip>
  **Monitor execution**: Watch the intent status as it progresses. Pan provides updates after each step, so you can see progress in real-time.
</Tip>

<Tip>
  **Understand costs**: Review gas estimates before execution. While Pan optimizes for cost, understanding expected expenses helps with budgeting.
</Tip>

## Related guides

<CardGroup cols={2}>
  <Card
    title="Intents"
    icon="target"
    href="/guides/concepts/intents"
  >
    Learn about intent-based execution
  </Card>
  <Card
    title="Monitoring status"
    icon="chart-line"
    href="/guides/monitoring-status"
  >
    Track execution progress in real-time
  </Card>
</CardGroup>

