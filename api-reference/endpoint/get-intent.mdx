---
title: "Get Intent"
openapi: "GET /intents/{intentId}"
---

## Example responses

### Intent in progress

<ResponseExample>
```json Executing intent
{
  "id": "intent_xyz789",
  "walletId": "wallet_abc123",
  "status": "executing",
  "action": "lend",
  "amount": "1000",
  "asset": "USDC",
  "chain": "ethereum-sepolia",
  "executionPlan": {
    "steps": [
      {
        "type": "swap",
        "from": "USDT",
        "to": "USDC",
        "amount": "500",
        "chain": "base-sepolia"
      },
      {
        "type": "bridge",
        "from": "base-sepolia",
        "to": "ethereum-sepolia",
        "asset": "USDC",
        "amount": "500"
      },
      {
        "type": "deposit",
        "protocol": "aave",
        "asset": "USDC",
        "amount": "1000",
        "chain": "ethereum-sepolia"
      }
    ],
    "estimatedGas": "0.05 ETH",
    "estimatedCostUsd": "15.00",
    "estimatedTime": "2-5 minutes",
    "strategy": "multi-asset"
  },
  "createdAt": "2024-01-15T10:30:00Z",
  "updatedAt": "2024-01-15T10:32:00Z"
}
```
</ResponseExample>

### Completed intent

<ResponseExample>
```json Completed intent
{
  "id": "intent_xyz789",
  "walletId": "wallet_abc123",
  "status": "completed",
  "action": "lend",
  "amount": "1000",
  "asset": "USDC",
  "chain": "ethereum-sepolia",
  "executionPlan": {
    "steps": [...],
    "strategy": "simple"
  },
  "metrics": {
    "totalGas": "0.02 ETH",
    "totalCostUsd": "6.00",
    "transactions": [
      "0x1234567890abcdef1234567890abcdef12345678",
      "0xabcdef1234567890abcdef1234567890abcdef12"
    ]
  },
  "createdAt": "2024-01-15T10:30:00Z",
  "updatedAt": "2024-01-15T10:35:00Z",
  "completedAt": "2024-01-15T10:35:00Z"
}
```
</ResponseExample>

### Failed intent

<ResponseExample>
```json Failed intent
{
  "id": "intent_xyz789",
  "walletId": "wallet_abc123",
  "status": "failed",
  "action": "lend",
  "amount": "1000",
  "asset": "USDC",
  "chain": "ethereum-sepolia",
  "error": {
    "code": "INSUFFICIENT_FUNDS",
    "message": "Wallet does not have sufficient USDC to complete the operation",
    "details": {
      "required": "1000 USDC",
      "available": "750 USDC",
      "shortfall": "250 USDC"
    }
  },
  "executionPlan": {
    "steps": [...],
    "completedSteps": 2,
    "failedStep": 3
  },
  "createdAt": "2024-01-15T10:30:00Z",
  "updatedAt": "2024-01-15T10:33:00Z"
}
```
</ResponseExample>

## Polling example

Here's a complete example of polling an intent until completion:

<CodeGroup>
```javascript JavaScript
async function waitForIntentCompletion(intentId) {
  const pollInterval = 5000; // 5 seconds
  const maxWaitTime = 300000; // 5 minutes
  const startTime = Date.now();
  
  while (Date.now() - startTime < maxWaitTime) {
    const response = await fetch(
      `https://api.pan.dev/v1/intents/${intentId}`,
      {
        headers: {
          'Authorization': `Bearer ${process.env.PAN_API_KEY}`
        }
      }
    );
    
    if (!response.ok) {
      throw new Error(`Failed to fetch intent: ${response.statusText}`);
    }
    
    const intent = await response.json();
    
    switch (intent.status) {
      case 'completed':
        return {
          success: true,
          intent: intent,
          metrics: intent.metrics
        };
        
      case 'failed':
        return {
          success: false,
          intent: intent,
          error: intent.error
        };
        
      case 'pending':
      case 'planning':
      case 'executing':
        console.log(`Intent ${intent.status}...`);
        await new Promise(resolve => setTimeout(resolve, pollInterval));
        break;
        
      default:
        throw new Error(`Unknown intent status: ${intent.status}`);
    }
  }
  
  throw new Error('Intent polling timed out');
}
```
</CodeGroup>

## Related guides

<CardGroup cols={2}>
  <Card
    title="Monitoring status"
    icon="chart-line"
    href="/guides/monitoring-status"
  >
    Best practices for tracking intent execution
  </Card>
  <Card
    title="Error handling"
    icon="exclamation-triangle"
    href="/guides/best-practices/error-handling"
  >
    Learn how to handle errors gracefully
  </Card>
</CardGroup>

