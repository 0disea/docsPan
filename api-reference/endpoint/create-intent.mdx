---
title: "Create Intent"
openapi: "POST /intents"
---

<Note>
  Intent execution is asynchronous. After creating an intent, poll the [Get Intent](/api-reference/endpoint/get-intent) endpoint to track progress.
</Note>

## Example: Lending intent

This example creates a lending intent to deposit 1000 USDC into a DeFi protocol:

<CodeGroup>
```bash cURL
curl -X POST https://api.pan.dev/v1/intents \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "walletId": "wallet_abc123",
    "action": "lend",
    "amount": "1000",
    "asset": "USDC",
    "chain": "ethereum-sepolia"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.pan.dev/v1/intents', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${process.env.PAN_API_KEY}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    walletId: 'wallet_abc123',
    action: 'lend',
    amount: '1000',
    asset: 'USDC',
    chain: 'ethereum-sepolia'
  })
});

const intent = await response.json();
console.log(`Intent created: ${intent.id}`);
console.log(`Status: ${intent.status}`);
```
</CodeGroup>

<ResponseExample>
```json Success response
{
  "id": "intent_xyz789",
  "walletId": "wallet_abc123",
  "status": "pending",
  "action": "lend",
  "amount": "1000",
  "asset": "USDC",
  "chain": "ethereum-sepolia",
  "createdAt": "2024-01-15T10:30:00Z"
}
```
</ResponseExample>

## Monitoring execution

After creating an intent, monitor its progress by polling the intent status:

<CodeGroup>
```javascript JavaScript
async function pollIntentStatus(intentId) {
  const maxAttempts = 60; // 5 minutes at 5-second intervals
  let attempts = 0;
  
  while (attempts < maxAttempts) {
    const response = await fetch(
      `https://api.pan.dev/v1/intents/${intentId}`,
      {
        headers: {
          'Authorization': `Bearer ${process.env.PAN_API_KEY}`
        }
      }
    );
    
    const intent = await response.json();
    
    if (intent.status === 'completed') {
      console.log('Intent completed successfully!');
      return intent;
    }
    
    if (intent.status === 'failed') {
      console.error('Intent failed:', intent.error);
      throw new Error(intent.error.message);
    }
    
    // Wait 5 seconds before checking again
    await new Promise(resolve => setTimeout(resolve, 5000));
    attempts++;
  }
  
  throw new Error('Intent timed out');
}
```
</CodeGroup>

<Tip>
  Use a polling interval of 5-10 seconds. More frequent polling wastes resources, while less frequent polling reduces responsiveness.
</Tip>

## Related guides

<CardGroup cols={2}>
  <Card
    title="Executing intents"
    icon="target"
    href="/guides/executing-intents"
  >
    Step-by-step guide to creating and managing intents
  </Card>
  <Card
    title="Monitoring status"
    icon="chart-line"
    href="/guides/monitoring-status"
  >
    Learn best practices for tracking intent execution
  </Card>
</CardGroup>

